pipeline{
	agent any

	Stages {

		stage ('Compile'){
			steps{

				withMaven (maven : 'maven_3.5.3'){

					sh 'mvn clean compile'

				}
			}

		}

		stage ('Testing'){
			steps{

				withMaven (maven : 'maven_3.5.3'){

					sh 'mvn test'

				}
			}

		}

		stage ('Deployement'){
			steps{

				withMaven (maven : 'maven_3.5.3'){

					sh 'mvn deploy'

				}
			}

		}

	}

}